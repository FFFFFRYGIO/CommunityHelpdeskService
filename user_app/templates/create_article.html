{% extends 'base.html' %}

{% block title %}Create Article Page{% endblock %}

{% block content %}
    <h1>Create Article</h1>
    {% if user.is_authenticated %}
        <form action="#" method="post" class="form-group" id="article-form">
            {% csrf_token %}
            {{ article_form.as_p }}
            {{ step_form_set.management_form }}
            {{ step_form_set.non_form_errors }}
            <div id="steps-formset">
                {% for step_form in step_form_set %}
                    <div class="step-form">
                        <h4>Step 1</h4>
                        {{ step_form.as_p }}
                        <br>
                    </div>
                {% endfor %}
            </div>
            <a href="#" id="remove-step-button" class="btn btn-secondary remove-step-button">Remove Step</a>
            <a href="#" id="add-step-button" class="btn btn-secondary add-step-button">Add Another Step</a>
            <button type="submit" class="btn btn-success" value="Save">Save</button>

        </form>
    {% else %}
        <h3>User isn't authenticated, login <a href="/registration/login">HERE</a></h3>
    {% endif %}
    <script src="{% static 'js/create_article_handle_steps.js' %}"></script>
{% endblock %}
